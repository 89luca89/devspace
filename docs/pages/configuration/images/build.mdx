---
title: Build
sidebar_label: 1. Build
---

import ConfigPartialBuildConfig from '../_partials/v2beta1/images/group_buildConfig.mdx'
import ConfigPartialOverwrites from '../_partials/v2beta1/images/group_overwrites.mdx'
import PreventBuildTip from './_partials/prevent_build.mdx'

DevSpace can build images using a variety of build engines.

<PreventBuildTip/>


## Building Images

### 1. Define Images
In build images with DevSpace, we need to add them to the `images` section of `devspace.yaml`:
```yaml title=devspace.yaml
version: v2beta1
images:
  api:
    image: ghcr.io/loft-sh/devspace-example-api
  payments:
    image: ghcr.io/loft-sh/devspace-example-payments
    dockerfile: ./payments/Dockerfile
    context: ./payments/
  auth:
    image: ghcr.io/loft-sh/devspace-example-auth
    dockerfile: ./auth/Dockerfile
    context: ./auth/
    target: production
    buildArgs:
      SOME_ARG: "value"
      ANOTHER_ARG: "some other value"
```
The example above defines 3 images:
- `api` with Dockerfile in `./Dockerfile` and build context in `./` (default values)
- `payments` with Dockerfile in `./payments/Dockerfile` and build context in `./payments/`
- `auth` with Dockerfile in `./auth/Dockerfile` and build context in `./auth/`  
   Additionally, the image `auth` also defines a few [`buildArgs`](#buildArgs) and a [build `target`](#target-for-multi-stage-builds) for multi-stage builds.


### 2. Use `build_images` in Pipeline
DevSpace builds images when the [`build_image` function](../functions) is called 

### 3. Run Pipeline


## Build Configuration
DevSpace lets you customize the build process for each image using the following config fields:

<ConfigPartialBuildConfig/>

### `buildArgs`

### `target` For Multi-Stage Builds


## Parallel vs Sequential Builds


## Rebuild Strategy



## Dockerfile Overwrites


<ConfigPartialOverwrites/>
